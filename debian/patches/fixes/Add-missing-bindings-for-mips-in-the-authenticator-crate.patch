From: Mike Hommey <mh@glandium.org>
Date: Wed, 23 Sep 2020 12:52:35 +0900
Subject: Add missing bindings for mips* in the authenticator crate

---
 Cargo.lock                                               | 2 --
 Cargo.toml                                               | 1 +
 third_party/rust/authenticator/src/linux/ioctl_mipsbe.rs | 5 +++++
 third_party/rust/authenticator/src/linux/ioctl_mipsle.rs | 5 +++++
 4 files changed, 11 insertions(+), 2 deletions(-)
 create mode 100644 third_party/rust/authenticator/src/linux/ioctl_mipsbe.rs
 create mode 100644 third_party/rust/authenticator/src/linux/ioctl_mipsle.rs

diff --git a/Cargo.lock b/Cargo.lock
index c41d9fc..2d46a3d 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -183,8 +183,6 @@ dependencies = [
 [[package]]
 name = "authenticator"
 version = "0.2.12"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "ff593fb4dd388fe452c5e63d4d668699466bd46b571c4b852dfbca4bac8f0706"
 dependencies = [
  "bitflags",
  "boxfnonce",
diff --git a/Cargo.toml b/Cargo.toml
index b723c1da..b250d3b 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -73,6 +73,7 @@ spirv_cross = { git = "https://github.com/kvark/spirv_cross", branch = "wgpu3" }
 # failure's backtrace feature might break our builds, see bug 1608157.
 failure = { git = "https://github.com/badboy/failure", rev = "64af847bc5fdcb6d2438bec8a6030812a80519a5" }
 failure_derive = { git = "https://github.com/badboy/failure", rev = "64af847bc5fdcb6d2438bec8a6030812a80519a5" }
+authenticator = { path = "third_party/rust/authenticator" }
 
 [patch.crates-io.cranelift-codegen]
 git = "https://github.com/bytecodealliance/wasmtime"
diff --git a/third_party/rust/authenticator/src/linux/ioctl_mipsbe.rs b/third_party/rust/authenticator/src/linux/ioctl_mipsbe.rs
new file mode 100644
index 0000000..1ca187f
--- /dev/null
+++ b/third_party/rust/authenticator/src/linux/ioctl_mipsbe.rs
@@ -0,0 +1,5 @@
+/* automatically generated by rust-bindgen */
+
+pub type __u32 = ::std::os::raw::c_uint;
+pub const _HIDIOCGRDESCSIZE: __u32 = 1074022401;
+pub const _HIDIOCGRDESC: __u32 = 1342457858;
diff --git a/third_party/rust/authenticator/src/linux/ioctl_mipsle.rs b/third_party/rust/authenticator/src/linux/ioctl_mipsle.rs
new file mode 100644
index 0000000..1ca187f
--- /dev/null
+++ b/third_party/rust/authenticator/src/linux/ioctl_mipsle.rs
@@ -0,0 +1,5 @@
+/* automatically generated by rust-bindgen */
+
+pub type __u32 = ::std::os::raw::c_uint;
+pub const _HIDIOCGRDESCSIZE: __u32 = 1074022401;
+pub const _HIDIOCGRDESC: __u32 = 1342457858;
