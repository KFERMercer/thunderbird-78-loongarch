<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.
-->

<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
<?xml-stylesheet href="chrome://calendar/content/calendar-subscriptions-dialog.css" type="text/css"?>
<?xml-stylesheet href="chrome://calendar/skin/calendar-subscriptions-dialog.css" type="text/css"?>
<?xml-stylesheet href="chrome://messenger/skin/input-fields.css" type="text/css"?>

<!DOCTYPE window
[
    <!ENTITY % dtd1 SYSTEM "chrome://calendar/locale/calendar-subscriptions-dialog.dtd" >  %dtd1;
]>

<window title="&calendar.subscriptions.dialog.title;"
  windowtype="Calendar:SubscriptionsDialog"
  onload="return onLoad();"
  onunload="return onUnload();"
  onkeypress="onKeyPress(event);"
  persist="screenX screenY width height"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml">

<dialog id="calendar-subscriptions-dialog"
        buttons="accept,cancel">

  <!-- Javascript includes -->
  <script src="chrome://global/content/globalOverlay.js"/>
  <script src="chrome://global/content/editMenuOverlay.js"/>
  <script src="chrome://calendar/content/calendar-subscriptions-dialog.js"/>
  <script src="chrome://calendar/content/calendar-ui-utils.js"/>
  <script src="chrome://calendar/content/calendar-subscriptions-list.js"/>

  <vbox flex="1">
    <hbox flex="1">
      <vbox flex="1">
        <label value="&calendar.subscriptions.dialog.search.label.value;"
               crop="end"/>
        <html:input id="search-input"
                    class="input-inline"
                    onkeypress="onInputKeyPress(event);"/>
        <label class="calendar-subscriptions-select-label"
               value="&calendar.subscriptions.dialog.select.label.value;"
               crop="end"/>
        <richlistbox id="subscriptions-listbox" flex="1"/>
      </vbox>
      <vbox>
        <label value=""/>
        <button label="&calendar.subscriptions.dialog.search.button.label;"
                oncommand="onSearch();"/>
        <label value="" class="calendar-subscriptions-select-label"/>
        <vbox>
          <button id="subscribe-button"
                  label="&calendar.subscriptions.dialog.subscribe.button.label;"
                  oncommand="onSubscribe();"/>
          <button id="unsubscribe-button"
                  label="&calendar.subscriptions.dialog.unsubscribe.button.label;"
                  oncommand="onUnsubscribe();"/>
        </vbox>
      </vbox>
    </hbox>
    <deck id="status-deck" selectedIndex="0">
      <hbox class="calendar-subscriptions-status-box" align="center">
        <image class="calendar-subscriptions-status-icon"/>
      </hbox>
      <hbox class="calendar-subscriptions-status-box" align="center">
        <image class="calendar-subscriptions-status-icon" busy="true"/>
        <label value="&calendar.subscriptions.dialog.statusmessage.busy.label;"
               crop="end"/>
      </hbox>
      <hbox class="calendar-subscriptions-status-box" align="center">
        <image class="calendar-subscriptions-status-icon"/>
        <label value="&calendar.subscriptions.dialog.statusmessage.nomatches.label;"
               crop="end"/>
      </hbox>
    </deck>
    <separator class="groove"/>
  </vbox>
</dialog>
</window>
